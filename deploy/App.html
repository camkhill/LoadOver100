<!DOCTYPE html>
<html>
<head>
    <title>LoadOver100App</title>

    <script type="text/javascript" src="/apps/2.0/sdk.js"></script>

    <script type="text/javascript">
        Rally.onReady(function () {
                Ext.define("CustomApp",{extend:"Rally.app.TimeboxScopedApp",scopeType:"iteration",onScopeChange:function(scope){},componentCls:"app",launch:function(){console.log("about to load"),this._loadData()},_createGrid:function(myStore){this.myGrid=Ext.create(Rally.ui.grid.Grid,{store:myStore,columnCfgs:["User","Capacity","TaskEstimates","Load","Project","Iteration"]}),console.log("Adding Grid..."),this.add(this.myGrid)},_loadData:function(){var IterationID=this.getContext().getTimeboxScope().getRecord().get("ObjectID");console.log("Iteration ID",IterationID),myFilters=[{property:"Iteration",operation:"=",value:IterationID}],this.myData=Ext.create("Rally.data.wsapi.Store",{model:"User Iteration Capacity",autoLoad:!0,filters:myFilters,listeners:{load:function(myStore,myData,success){this._createGrid(myStore)},scope:this},fetch:["User","Capacity","TaskEstimates","Load","Project","Iteration"]}),console.log("Fetched Data")}});

            Rally.launchApp('CustomApp', {
                name:"LoadOver100App",
	            parentRepos:""
            });

        });
    </script>


    <style type="text/css">
        
    </style>
</head>
<body>
</body>
</html>
